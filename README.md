# Reaction Simulation Data ETL

## Overview

This ETL pipeline ingests time-series simulation data generated by its sister project, found at https://github.com/joshvernaz/reactionetl-generator. Reaction simulation data and metadata are found, validated to match the destination schema, pre-processed and written to another directory, loaded into PostgreSQL, and then transferred to cold storage.

---

## Key Features

- Automated table creation for smooth deployment

- Schema validation for incoming CSV data and JSON metadata into target PostgreSQL tables

- Incremental loading, only ingesting new data

- Automated file structure management

- Cold storage for processed data

- ETL run log stored in the database

---

## Planned Features

- Improved logging with external logs

- Containerization with Docker and Docker Compose

- Orchestration with Airflow

- Sample data analytics and visualization, including sensitivity analysis

- Expansion to accommodate other chemical reactions like decomposition reactions

---

## Project Structure

```
.
├── column_map.json
├── create_tables.sql
├── database_manager.py
├── file_manager.py
├── main.py
├── README.md
├── required_cols.json
└── requirements.txt
```

___

## Database

The PostgreSQL database has two tables: 

- `dim_rxn` - stores metadata about the reaction, such as initial reactant concentrations and temperature, `simulation_id`, and the reason the generator stopped the simulation.

- `fact_sim` - stores time series data tied to the `simulation_id`.

- `etl_run_log` - stores data about the runs of the ETL pipeline, such as start time, end time, processing time, and records inserted.

---

## Technologies Used

| Component        | Technologies                                              |
| ---------------- | --------------------------------------------------------- |
| Language         | Python 3.13                                               |
| Database         | PostgreSQL 18                                             |
| Libraries        | `psycopg2`, `pandas`, `dotenv`, <br/>`pydantic`,`pathlib` |
| Containerization | Docker (planned)                                          |
| Orchestration    | Airflow (planned)                                         |


